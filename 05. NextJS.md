# Next.js 

### ðŸ”¹ Basic 

**1. What is Next.js and how does it differ from React?**  
- **React** is a UI library, mostly client-side.  
- **Next.js** is a React framework with features like SSR, SSG, API routes, routing, etc.  
- Key difference: React = UI, Next.js = full framework.

---

**2. Explain SSR, SSG, and CSR.**  
- **CSR (Client-Side Rendering):** Browser renders; slower first load, SEO issues.  
- **SSR (Server-Side Rendering):** Server renders per request; SEO-friendly, dynamic.  
- **SSG (Static Site Generation):** Build-time render; fast, cacheable.  

---

**3. Purpose of the `pages` directory**  
- Handles **file-based routing**.  
- Example: `pages/about.js` â†’ `/about`.

---

**4. File-based routing**  
- File structure = URL structure.  
- Dynamic: `[id].js` â†’ `/123`.  
- Catch-all: `[...slug].js` â†’ `/a/b/c`.  

---

**5. Difference between `getStaticProps`, `getServerSideProps`, `getStaticPaths`**  
- `getStaticProps`: Build-time fetch.  
- `getServerSideProps`: Per-request fetch.  
- `getStaticPaths`: Pre-generates dynamic paths.  

---

**6. Purpose of `Link` component**  
- Enables **client-side navigation** without reload.  
- Example: `<Link href="/about">About</Link>`  

---

**7. Adding CSS**  
- **Global CSS:** `_app.js`.  
- **Component CSS:** CSS Modules (`Component.module.css`).  

---

**8. Difference between `next/link` and `next/router`**  
- `next/link`: Navigation in JSX.  
- `next/router`: Programmatic navigation (`router.push('/home')`).  

---

**9. Use of the `Image` component**  
- Optimized images: resizing, lazy loading, WebP.  
- Example: `<Image src="/logo.png" width={200} height={100} />`  

---

**10. Environment variables**  
- `.env.local` â†’ `NEXT_PUBLIC_` prefix for client.  
- Example: `process.env.NEXT_PUBLIC_API_URL`.  

---

### ðŸ”¹ Intermediate

**1. App Router vs Pages Router**  
- **Pages Router:** Legacy, `getStaticProps`/`getServerSideProps`.  
- **App Router:** Modern, server components, layouts, streaming.  

---

**2. ISR (Incremental Static Regeneration)**  
- Updates static pages after build.  
- Example: `revalidate: 60`.  

---

**3. API routes**  
- `pages/api/` â†’ serverless endpoints.  
- Example: `pages/api/user.js` â†’ `/api/user`.  

---

**4. Dynamic and catch-all routes**  
- Dynamic: `[id].js` â†’ `/123`.  
- Catch-all: `[...slug].js` â†’ `/a/b/c`.  

---

**5. Middleware**  
- Runs before request completes.  
- Use cases: auth, redirects, rewrites.  

---

**6. Authentication**  
- Methods: NextAuth.js, JWT, middleware.  
- Protect routes using middleware or HOCs.  

---

**7. Static file serving**  
- `public/` folder.  
- Example: `/logo.png`.  

---

**8. React Server Components**  
- Default in Next.js 13+.  
- Fetch data server-side, reduce client bundle.  

---

**9. Deploy to Vercel**  
- Push repo â†’ auto-deploy.  
- Optimizations: CDN, image optimization, edge caching.  

---

**10. `next/head` vs `metadata` API**  
- `next/head`: Manual meta tags.  
- `metadata` API: Typed, centralized, app router.  

---

### ðŸ”¹ Advanced

**1. SSR, SSG, ISR, CSR trade-offs**

| Rendering | Pros | Cons |
|-----------|------|------|
| CSR       | Interactive, SPA-like | Slow initial load, SEO issues |
| SSR       | SEO-friendly, dynamic | Slower per request |
| SSG       | Fast, cacheable | Static, rebuild needed |
| ISR       | Hybrid static + dynamic | Cache complexity |

---

**2. Streaming & Suspense**  
- **Streaming:** Send HTML in chunks.  
- **Suspense:** Pause rendering until data loads.  

---

**3. SEO best practices**  
- Use SSR/SSG.  
- Proper `<head>` tags.  
- JSON-LD structured data.  
- Optimized assets.  

---

**4. i18n**  
- `i18n: { locales: ['en','de'], defaultLocale: 'en' }`.  
- Supports localized routes.  

---

**5. Caching at the edge**  
- CDN caching for SSR/ISR.  
- Faster global response times.  

---

**6. Server actions**  
- Call server logic directly from components.  
- No need for extra API routes.  

---

**7. Large project optimization**  
- Dynamic imports, lazy loading.  
- Analyze bundle (`next-bundle-analyzer`).  
- Optimize fonts, images.  

---

**8. `next/font` vs Google Fonts `<link>`**  
- `next/font`: Loads locally, subsets automatically.  
- Faster, no FOUT/FOIT.  

---

**9. Custom server & routing**  
- Use Express/Koa with Next.js.  
- Custom rewrites, headers, auth.  

---

**10. TypeScript integration**  
- Add `tsconfig.json`.  
- Autocompletion, type safety.  

---

### ðŸ”¹ Scenario-Based

**1. SEO-friendly landing page** â†’ Use **SSG/SSR**.  

**2. User-specific dashboard** â†’ Use **SSR** (`getServerSideProps`).  

**3. Blog updated daily** â†’ Use **ISR** with revalidate.  

**4. Protect routes** â†’ Middleware or auth guard.  

**5. Performance issues** â†’ Bundle analyzer, dynamic imports, optimize assets.  

**6. Analytics** â†’ Add in `_app.js` or `layout.js` for global load.  

**7. Migration (pages â†’ app router)** â†’ Watch for data fetching changes, layouts, server components.  

**8. Error/fallback pages** â†’ `pages/404.js`, `pages/_error.js`, `error.js`, `loading.js`.  

**9. Real-time updates** â†’ WebSockets, SSE, or SWR polling.  

**10. Docker deployment** â†’ `node:18-alpine`, copy files, build, expose port 3000, `npm start`.  
