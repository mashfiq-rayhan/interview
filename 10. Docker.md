<h1 style="display: flex; align-items: center; gap: 10px;">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/docker/docker-original.svg" alt="Docker Logo" width="70">
  <span style="color:#007acc; font-size:1.5em;">DOCKER</span>
</h1>

## ðŸ”¹ Basic

**1. What is Docker, and how is it different from a Virtual Machine (VM)?**  
- **Docker:** A platform for containerization; runs applications in isolated environments called containers.  
- **VM:** Runs a full OS on top of a hypervisor.  
- **Difference:**  
  | Feature | Docker | VM |
  |---------|--------|----|
  | OS | Shares host OS | Full OS per VM |
  | Resource Usage | Lightweight | Heavy |
  | Boot Time | Seconds | Minutes |
  | Isolation | Process-level | Hardware-level |

**2. What is a Docker image, and how is it different from a container?**  
- **Image:** Immutable blueprint of an application (code + dependencies).  
- **Container:** Running instance of an image.  
- Analogy: Image = class, Container = object.

**3. What is the role of the Docker daemon?**  
- `dockerd` runs as a background process.  
- Responsibilities: build images, run containers, manage networks and volumes.

**4. Difference between `docker run`, `docker start`, and `docker exec`:**  
- `docker run`: Creates + starts a new container.  
- `docker start`: Starts an existing stopped container.  
- `docker exec`: Executes a command in a running container.

**5. What is the purpose of the Dockerfile?**  
- Text file defining **instructions to build a Docker image**.  
- Example: `FROM`, `COPY`, `RUN`, `CMD`.

**6. How do you list all running containers? How about all containers (running + stopped)?**  
- Running: `docker ps`  
- All: `docker ps -a`

**7. Difference between `COPY` and `ADD` in Dockerfile:**  
- `COPY`: Copies local files/directories into image.  
- `ADD`: Also copies, but can extract tar files & fetch from URLs.  
- Best practice: Use `COPY` unless you need `ADD`â€™s extra features.

**8. How do you expose a port in Docker?**  
- `EXPOSE <port>` in Dockerfile (informational)  
- `docker run -p hostPort:containerPort` (actual mapping)

**9. Difference between `docker-compose up` and `docker-compose up --build`:**  
- `up`: Starts containers using existing images.  
- `--build`: Rebuilds images before starting containers.

**10. What happens when you run `docker ps -a`?**  
- Lists **all containers**, both running and stopped.

---

## ðŸ”¹ Intermediate

**1. Docker volumes vs bind mounts:**  
- **Volumes:** Managed by Docker, stored in Dockerâ€™s directory (`/var/lib/docker/volumes`).  
- **Bind mounts:** Map host directory directly to container.  
- **Volumes** are preferred for persistence and portability.

**2. ENTRYPOINT vs CMD:**  
- `ENTRYPOINT`: Sets the **main executable**; command is fixed.  
- `CMD`: Provides **default arguments** for ENTRYPOINT or runs a command if no ENTRYPOINT.  
- Example:  
  ```dockerfile
  ENTRYPOINT ["python"]
  CMD ["app.py"]
  ```

**3. Docker networking between containers:**  
- Docker creates virtual networks; containers on the same network can communicate by name.  
- Default network: `bridge`.

**4. Differences between bridge, host, none networks:**  
- **bridge:** Default, container gets isolated network with NAT.  
- **host:** Shares host network.  
- **none:** No network interface.

**5. How to reduce Docker image size:**  
- Use smaller base images (e.g., `alpine`)  
- Multi-stage builds  
- Clean caches (`apt-get clean`)  
- Only copy necessary files

**6. Multi-stage build:**  
- Multiple `FROM` stages to separate build and runtime.  
- Reduces final image size by discarding build dependencies.

**7. Persist logs in containers:**  
- Use **volumes** or **bind mounts** to store logs outside containers.  
- Example: `docker run -v /host/logs:/app/logs mycontainer`

**8. Scaling: Docker Compose vs Kubernetes:**  
- **Docker Compose:** Simple scaling with `docker-compose up --scale service=n`.  
- **Kubernetes:** Full orchestration: auto-scaling, load balancing, recovery, multi-node.

**9. Pass environment variables:**  
- `docker run -e VAR=value ...`  
- `docker-compose.yml` `environment:` section

**10. Deleting an image used by running container:**  
- Docker wonâ€™t delete it; you'll get an error: `image is being used by running container`.

---

## ðŸ”¹ Advanced

**1. How Docker ensures container isolation:**  
- Uses **Linux namespaces** (PID, network, mount) + **cgroups** for resource limits.

**2. cgroups and namespaces:**  
- **cgroups:** Control and limit CPU/memory usage.  
- **Namespaces:** Isolate resources (processes, filesystem, network).

**3. Docker overlay network in Swarm:**  
- Enables **multi-host container communication** using VXLAN overlay.  
- Containers on different nodes can talk as if they are on the same LAN.

**4. Security best practices:**  
- Run as non-root  
- Use minimal images  
- Limit capabilities  
- Scan images for vulnerabilities

**5. Docker layered filesystem:**  
- Images consist of **layers**, each representing a change.  
- Benefits: efficient storage, caching, reusability.

**6. DNS resolution inside containers:**  
- Docker provides internal DNS for container names on the same network.

**7. Inter-container communication across hosts:**  
- Overlay networks in Docker Swarm or Kubernetes Services allow multi-host communication.

**8. Docker Swarm vs Kubernetes:**  
| Feature | Swarm | Kubernetes |
|---------|-------|------------|
| Complexity | Simple | Complex |
| Orchestration | Built-in | Full-featured |
| Scaling | Easy | Advanced, auto-scaling |
| Community | Smaller | Huge |

**9. Secrets management:**  
- Use `docker secret` in Swarm  
- Avoid ENV variables for sensitive data in production

**10. Immutability of images:**  
- Images are read-only layers; containers are ephemeral.  
- Changes donâ€™t affect the original image.

---

## ðŸ”¹ Scenario-Based / Practical

**1. Container keeps restarting:**  
- `docker logs <container>` â†’ check errors  
- Check restart policy, dependencies, or misconfigurations.

**2. Container consuming too much memory:**  
- `docker stats` â†’ see usage  
- Limit memory with `-m` flag  
- Investigate application for memory leaks

**3. Deploy multi-container app:**  
- Use **docker-compose.yml** to define DB, API, Frontend  
- Define networks, volumes, and dependencies

**4. Large Docker image:**  
- Use smaller base images  
- Multi-stage build  
- Minimize copied files

**5. Container canâ€™t connect to another:**  
- Check network (`docker network ls`)  
- Ensure containers are on same network  
- Ping container by name

**6. Migrate container data:**  
- Use volumes â†’ backup data from host path  
- Restore on target server â†’ attach to new container

**7. Works locally but fails in production:**  
- Check environment differences (OS, ENV vars, secrets, port mappings)  
- Check logs  
- Use same Docker image for both

**8. Secure sensitive env vars:**  
- Use **Docker secrets** (Swarm/Kubernetes)  
- Avoid storing in Dockerfile or `.env` in repo

**9. Zero downtime update:**  
- Use rolling updates in Swarm/Kubernetes  
- Start new container â†’ stop old container after health check passes

**10. Aggregate logs from multiple containers:**  
- Use logging drivers (`json-file`, `syslog`)  
- Centralized logging: ELK stack, Prometheus + Grafana, or Loki
